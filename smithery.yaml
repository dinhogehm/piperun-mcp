name: piperun-mcp
description: Servidor MCP que fornece acesso à API do CRM Piperun, incluindo negócios, pipelines, etapas, produtos e contatos.
version: 1.0.0
license: MIT

# Configuração Smithery.ai
startCommand:
  type: stdio
  configSchema:
    # JSON Schema definindo as opções de configuração para o MCP.
    {}
  commandFunction:
    # Função que produz o comando CLI para iniciar o MCP no stdio.
    |-
    (config) => ({
      "command": "node",
      "args": [
        "--no-warnings",
        "src/index.ts"
      ]
    })
  
tools:
  - name: list_deals
    description: Lista negócios (deals) do Piperun com opções de filtragem e paginação.
    parameters:
      - name: pipeline_id
        type: number
        description: ID do pipeline para filtrar negócios
        optional: true
      - name: stage_id
        type: number
        description: ID da etapa para filtrar negócios
        optional: true
      - name: person_id
        type: number
        description: ID do contato para filtrar negócios
        optional: true
      - name: title
        type: string
        description: Título do negócio para filtrar
        optional: true
      - name: status
        type: string
        description: Status do negócio (aberto, ganho, perdido)
        optional: true
      - name: page
        type: number
        description: Número da página para paginação
        optional: true
      - name: show
        type: number
        description: Quantidade de registros por página
        optional: true

  - name: list_pipelines
    description: Lista pipelines disponíveis no Piperun.
    parameters:
      - name: page
        type: number
        description: Número da página para paginação
        optional: true
      - name: show
        type: number
        description: Quantidade de registros por página
        optional: true

  - name: list_stages
    description: Lista as etapas (stages) de um pipeline específico.
    parameters:
      - name: pipeline_id
        type: number
        description: ID do pipeline para listar etapas
        optional: false
      - name: page
        type: number
        description: Número da página para paginação
        optional: true
      - name: show
        type: number
        description: Quantidade de registros por página
        optional: true

  - name: list_products
    description: Lista os produtos disponíveis no Piperun.
    parameters:
      - name: name
        type: string
        description: Nome do produto para filtrar
        optional: true
      - name: page
        type: number
        description: Número da página para paginação
        optional: true
      - name: show
        type: number
        description: Quantidade de registros por página
        optional: true

  - name: list_contacts
    description: Lista os contatos cadastrados no Piperun.
    parameters:
      - name: name
        type: string
        description: Nome do contato para filtrar
        optional: true
      - name: email
        type: string
        description: Email do contato para filtrar
        optional: true
      - name: page
        type: number
        description: Número da página para paginação
        optional: true
      - name: show
        type: number
        description: Quantidade de registros por página
        optional: true

  - name: check_status
    description: Verifica se a API do Piperun está respondendo.
